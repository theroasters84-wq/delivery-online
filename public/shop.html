<!DOCTYPE html>
<html lang="el">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shop Panel - The Roasters</title>
    <style>
        body { font-family: sans-serif; text-align: center; background: #f4f4f4; padding: 20px; }
        button { background: #e67e22; color: white; border: none; padding: 20px 40px; border-radius: 10px; font-size: 1.5em; cursor: pointer; box-shadow: 0 4px #d35400; }
        button:active { box-shadow: 0 2px #d35400; transform: translateY(2px); }
        #log { margin-top: 30px; background: white; padding: 15px; border-radius: 10px; min-height: 100px; border: 1px solid #ddd; }
        .accepted { color: #27ae60; font-weight: bold; border-bottom: 1px solid #eee; padding: 5px; }
    </style>
</head>
<body>
    <h1>The Roasters - ÎšÎµÎ½Ï„ÏÎ¹ÎºÏŒ</h1>
    <button onclick="sendOrder()">ğŸ”” ÎšÎ›Î—Î£Î— ÎÎ¤Î•Î›Î™Î’Î•Î¡Î‘</button>

    <div id="log">
        <p style="color: #888;">Î™ÏƒÏ„Î¿ÏÎ¹ÎºÏŒ ÎºÎ»Î®ÏƒÎµÏ‰Î½...</p>
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script>
        const socket = io();
        const log = document.getElementById('log');

        function sendOrder() {
            const time = new Date().toLocaleTimeString();
            socket.emit('new-order', { time: time });
            
            const p = document.createElement('p');
            p.innerText = `[${time}] Î— ÎºÎ»Î®ÏƒÎ· ÏƒÏ„Î¬Î»Î¸Î·ÎºÎµ...`;
            log.prepend(p);
        }

        // Î›Î®ÏˆÎ· ÎµÏ€Î¹Î²ÎµÎ²Î±Î¯Ï‰ÏƒÎ·Ï‚ Î±Ï€ÏŒ Ï„Î¿Î½ Î½Ï„ÎµÎ»Î¹Î²ÎµÏÎ¬
        socket.on('driver-accepted', (data) => {
            const p = document.createElement('p');
            p.className = "accepted";
            p.innerText = `âœ… ÎŸ ${data.driverName} Î±Ï€Î¿Î´Î­Ï‡Ï„Î·ÎºÎµ Ï„Î·Î½ ÎºÎ»Î®ÏƒÎ·!`;
            log.prepend(p);
            
            // Î‰Ï‡Î¿Ï‚ ÎµÏ€Î¹Î²ÎµÎ²Î±Î¯Ï‰ÏƒÎ·Ï‚ ÏƒÏ„Î¿ Î¼Î±Î³Î±Î¶Î¯
            new Audio('https://actions.google.com/sounds/v1/notifications/positive_notification.ogg').play();
        });
    </script>
</body>
</html>
